<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/hakyll-cssgarden/bronx.css">
    <link rel="stylesheet" href="../css/syntax.css">
    <link rel="stylesheet" href="../css/custom.css">
    <title>My Hakyll Blog - libsecretをgitのcredential.helperとして使うには</title>
  </head>
  <body>
    <div id="header">
      <div id="logo">
        <a href="../">Nobiruwa's</a>
      </div>
      <div id="navigation">
        <a href="../">Home</a>
        <a href="../archive.html">Archive</a>
      </div>
    </div>

    <div id="content">
      <h1>libsecretをgitのcredential.helperとして使うには</h1>

      <div class="info">
    Posted on January 31, 2021
    
        by nobiruwa
    
</div>

<h2 id="tldr">tl;dr</h2>
<p>libsecret-1-devをインストール、<code>git-credential-libsecret</code>をコンパイルします。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get install libsecret-1-dev</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo make <span class="at">--directory</span><span class="op">=</span>/usr/share/doc/git/contrib/credential/libsecret</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> credential.helper /usr/share/doc/git/contrib/credential/libsecret/git-credential-libsecret</span></code></pre></div>
<h2 id="経緯">経緯</h2>
<p>GitHubに2段階認証を導入したことで、<code>git push</code>ではパスワードの代わりにprivate access tokenを入力するようになりました。 <code>git push</code>のたびに入力するのは面倒なので、省略する方法を調べると、GNOME環境ではlibsecretを使うとよいことが分かりました。 gitからlibsecretを使うには<code>git-credential-libsecret</code>が必要なのですが、Debianには該当するパッケージがなく、別途コンパイルする必要があることが分かりました。</p>
<h2 id="参考">参考</h2>
<ul>
<li><a href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token">Creating a personal access token - GitHub Docs</a></li>
<li><a href="https://stackoverflow.com/a/56898761">How to save username and password in Git?</a></li>
<li><a href="https://askubuntu.com/questions/773455/what-is-the-correct-way-to-use-git-with-gnome-keyring-and-https-repos">What is the correct way to use git with gnome-keyring and http(s) repos?</a></li>
</ul>

    </div>
    <div id="footer">
      Site proudly generated by
      <a href="http://jaspervdj.be/hakyll">Hakyll</a>
    </div>
  </body>
</html>
